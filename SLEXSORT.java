package Java_SPOJ;
import java.util.*;class S{public static void main(String[]args){Scanner s=new Scanner(System.in);int t=s.nextInt();for(int i=0;i<t;i++){String A=s.next();int n=s.nextInt();String[]w=new String[n];for(int j=0;j<n;j++){w[j]=s.next();}Arrays.sort(w,new W(A));for(int j=0;j<n;j++){System.out.println(w[j]);}System.out.println();}}}class W implements java.util.Comparator<String>{private String A;public W(String a){this.A=a;}public int compare(String a,String b){int i=0;while(i<a.length()&&i<b.length()){if(A.indexOf(a.charAt(i))<A.indexOf(b.charAt(i))){return -1;}else if(A.indexOf(a.charAt(i))>A.indexOf(b.charAt(i))){return 1;}i++;}return Integer.compare(a.length(),b.length());}}
