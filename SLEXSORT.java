package Java_SPOJ;
import java.util.*;class S{public static void main(String[]a){var s=new Scanner(System.in);int t=s.nextInt();for(int i=0;i<t;i++){var A=s.next();int n=s.nextInt();String[]w=new String[n];for(int j=0;j<n;j++)w[j]=s.next();Arrays.sort(w,(x,y)->{int p=x.length();int q=y.length();int j=0,z;while(j<p&&j<q){z=A.indexOf(x.charAt(j))-A.indexOf(y.charAt(j++));if(z!=0)return z;}return p-q;});for(var z:w)System.out.println(z);System.out.println();}}}
